{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport styles from './styles.module.scss';\nimport clsx from 'clsx';\nimport { withTranslation, i18n } from '../../../i18n';\n\nfunction Header({\n  t\n}) {\n  const router = useRouter();\n  const [visiblePopup, setVisiblePopup] = React.useState(false);\n  const [activeItem, setActiveItem] = React.useState(0);\n  const langRef = React.useRef();\n  const allLang = ['ru', 'kz'];\n  const activeLang = allLang[activeItem];\n\n  const changeLang = () => {\n    i18n.changeLanguage(activeLang);\n  };\n\n  const toggleVisible = () => {\n    setVisiblePopup(!visiblePopup);\n  };\n\n  const handleOutsideClick = e => {\n    if (!e.path.includes(langRef.current)) {\n      setVisiblePopup(false);\n    }\n  };\n\n  React.useEffect(() => {\n    document.body.addEventListener('click', handleOutsideClick);\n    return () => {\n      document.body.removeEventListener('click', handleOutsideClick);\n    };\n  }, []);\n\n  const onSelectItem = id => {\n    setActiveItem(id);\n    setVisiblePopup(false);\n  };\n\n  return __jsx(\"header\", {\n    className: styles.header\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"nav\", {\n    className: styles.header_content\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: styles.header_bold\n  }, __jsx(\"img\", {\n    src: \"/h_logo.svg\",\n    alt: \"#\"\n  }))), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: router.pathname == '/' ? styles.active : ''\n  }, t('main'))), __jsx(Link, {\n    href: \"/news\"\n  }, __jsx(\"a\", {\n    className: router.pathname == '/news' ? styles.active : ''\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\")), __jsx(Link, {\n    href: \"/project\"\n  }, __jsx(\"a\", {\n    className: router.pathname == '/project' ? styles.active : ''\n  }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\")), __jsx(Link, {\n    href: \"/webinars\"\n  }, __jsx(\"a\", {\n    className: router.pathname == '/webinars' ? styles.active : ''\n  }, \"\\u0412\\u0435\\u0431\\u0438\\u043D\\u0430\\u0440\\u044B\")), __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", {\n    className: styles.header_bold\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438 \", __jsx(\"img\", {\n    src: \"/login.svg\",\n    alt: \"login\"\n  }))), __jsx(\"div\", {\n    ref: langRef,\n    className: styles.header_lang\n  }, __jsx(\"span\", {\n    onClick: toggleVisible\n  }, activeLang, \" \", __jsx(\"img\", {\n    src: \"/dd.svg\",\n    alt: \"#\"\n  })), visiblePopup && __jsx(\"ul\", {\n    className: clsx(styles.header_langs, 'border-radius')\n  }, allLang && allLang.map((name, index) => __jsx(\"li\", {\n    onClick: (() => activeItem !== index ? onSelectItem(index) : '', changeLang),\n    className: clsx(activeItem === index ? styles.active : ''),\n    key: index\n  }, name)))), __jsx(Link, {\n    href: \"/regis\"\n  }, __jsx(\"a\", {\n    className: clsx(styles.registration, 'border-radius')\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\")))));\n}\n\nexport default withTranslation('header')(Header);","map":null,"metadata":{},"sourceType":"module"}