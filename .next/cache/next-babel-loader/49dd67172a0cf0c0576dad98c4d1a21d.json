{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\meehr\\\\Desktop\\\\front\\\\tourism-online\\\\src\\\\components\\\\AdminNewsComponent\\\\index.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Link } from '../../../i18n';\nimport { Cookies } from 'react-cookie';\nimport styles from './styles.module.scss';\nimport clsx from 'clsx';\nvar cookies = new Cookies();\nexport default function AdminNewsComponent(_ref) {\n  var _this = this;\n\n  var title = _ref.title,\n      smalltitle = _ref.smalltitle,\n      _ref$link = _ref.link,\n      link = _ref$link === void 0 ? \"/admin\" : _ref$link,\n      bool = _ref.bool,\n      data = _ref.data;\n  console.log(\"AdminNewsComponent -> data\", data);\n\n  function deletedContent(_x) {\n    return _deletedContent.apply(this, arguments);\n  }\n\n  function _deletedContent() {\n    _deletedContent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var token, BASE_URL, myHeaders, requestOptions, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              token = cookies.get('token');\n              BASE_URL = process.env.NEXT_PUBLIC_BASE_URL;\n              myHeaders = new Headers();\n              myHeaders.append(\"Authorization\", \"Bearer \".concat(token));\n              requestOptions = {\n                method: 'DELETE',\n                headers: myHeaders,\n                redirected: true\n              };\n              _context.next = 7;\n              return fetch(\"\".concat(BASE_URL, \"/api/news/\").concat(id), requestOptions);\n\n            case 7:\n              res = _context.sent;\n              console.log(\"AdminNewsComponent -> deletedInfo\", res);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _deletedContent.apply(this, arguments);\n  }\n\n  return __jsx(\"div\", {\n    className: clsx(styles.news),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.news_head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, title), __jsx(Link, {\n    href: \"admin/\".concat(data.data[0].link, \"/\").concat(data.data.length + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    className: styles.news_btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/plus-circle.svg\",\n    alt: \"svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }), \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \", smalltitle))), __jsx(Link, {\n    href: link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, bool === true ? __jsx(\"a\", {\n    className: styles.news_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0441\\u0435 \", __jsx(\"img\", {\n    src: \"/chevron-left.svg\",\n    alt: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 51\n    }\n  })) : __jsx(\"a\", {\n    className: styles.news_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: \"/chevron-right.svg\",\n    alt: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 47\n    }\n  }), \" \\u041D\\u0430\\u0437\\u0430\\u0434\"))), __jsx(\"div\", {\n    className: clsx(styles.news_wrapper, 'border-radius'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: clsx(styles.news_content, 'border-radius'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.news_content_head,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u043D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\")), data.data.map(function (el, id) {\n    return __jsx(\"div\", {\n      className: styles.news_content_body,\n      key: id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, el.heading_ru), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, el.date), el.status.id === 1 ? __jsx(\"span\", {\n      className: styles.news_blue,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, el.status.name_ru) : __jsx(\"span\", {\n      className: styles.news_green,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, el.status.name_ru), __jsx(\"div\", {\n      className: styles.news_content_btns,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, __jsx(Link, {\n      href: \"/admin/\".concat(el.link, \"/\").concat(el.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, __jsx(\"button\", {\n      className: styles.news_blue,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"))), __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, __jsx(\"button\", {\n      onClick: function onClick() {\n        return deletedContent(el.id);\n      },\n      className: styles.news_red,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"))));\n  })), __jsx(\"div\", {\n    className: styles.news_pagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446 1-3 \\u0438\\u0437 5 \\u0442\\u0430\\u0431\\u043B\\u0438\\u0446\"))));\n}\n_c = AdminNewsComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminNewsComponent\");","map":{"version":3,"sources":["C:/Users/meehr/Desktop/front/tourism-online/src/components/AdminNewsComponent/index.jsx"],"names":["React","Link","Cookies","styles","clsx","cookies","AdminNewsComponent","title","smalltitle","link","bool","data","console","log","deletedContent","id","token","get","BASE_URL","process","env","NEXT_PUBLIC_BASE_URL","myHeaders","Headers","append","requestOptions","method","headers","redirected","fetch","res","news","news_head","length","news_btn","news_link","news_wrapper","news_content","news_content_head","map","el","news_content_body","heading_ru","date","status","news_blue","name_ru","news_green","news_content_btns","news_red","news_pagination"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from '../../../i18n'\r\nimport { Cookies } from 'react-cookie';\r\n\r\nimport styles from './styles.module.scss'\r\nimport clsx from 'clsx'\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport default function AdminNewsComponent({title, smalltitle, link = \"/admin\", bool, data}) {\r\nconsole.log(\"AdminNewsComponent -> data\", data)\r\n\r\n  async function deletedContent(id) {\r\n    const token = cookies.get('token')\r\n    const BASE_URL = process.env.NEXT_PUBLIC_BASE_URL\r\n    const myHeaders = new Headers();\r\n\r\n    myHeaders.append(\"Authorization\", `Bearer ${token}`)\r\n\r\n    const requestOptions = {\r\n      method: 'DELETE',\r\n      headers: myHeaders,\r\n      redirected: true\r\n    };\r\n    const res = await fetch(`${BASE_URL}/api/news/${id}`, requestOptions)\r\n\r\n    console.log(\"AdminNewsComponent -> deletedInfo\", res)\r\n  }\r\n\r\n  return (\r\n    <div className={clsx(styles.news)}>\r\n      <div className={styles.news_head}>\r\n        <h6>{title}</h6>\r\n        <Link href={`admin/${data.data[0].link}/${data.data.length + 1}`}>\r\n          <a className={styles.news_btn}>\r\n            <button>\r\n              <img src=\"/plus-circle.svg\" alt=\"svg\"/>\r\n            Добавить новую {smalltitle}\r\n          </button>\r\n          </a>\r\n        </Link>\r\n        <Link href={link}>\r\n          {bool === true \r\n            ? <a className={styles.news_link}>Все <img src=\"/chevron-left.svg\" alt=\"#\"/></a>\r\n            : <a className={styles.news_link}><img src=\"/chevron-right.svg\" alt=\"#\"/> Назад</a>\r\n          }\r\n        </Link>\r\n      </div>\r\n      <div className={clsx(styles.news_wrapper, 'border-radius')}>\r\n        <div className={clsx(styles.news_content, 'border-radius')}>\r\n          <div className={styles.news_content_head}>\r\n            <h6>Заголовок новостей</h6>\r\n            <h6>Дата опубликования</h6>\r\n            <h6>Статус</h6>\r\n            <h6>Действия</h6>\r\n          </div>\r\n          {\r\n            data.data.map((el,id) => (\r\n              <div className={styles.news_content_body} key={id}>\r\n                <p>{el.heading_ru}</p>\r\n                <span>{el.date}</span>\r\n                {\r\n                  el.status.id === 1 \r\n                  ?(<span className={styles.news_blue}>{el.status.name_ru}</span>)\r\n                  :(<span className={styles.news_green}>{el.status.name_ru}</span>)\r\n                }\r\n                <div className={styles.news_content_btns}>\r\n                  <Link href={`/admin/${el.link}/${el.id}`}>\r\n                    <a>\r\n                      <button className={styles.news_blue}>Редактирование</button>\r\n                    </a>\r\n                  </Link>\r\n                  <a>\r\n                    <button onClick={() => deletedContent(el.id)} className={styles.news_red}>Удалить</button>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <div className={styles.news_pagination}>\r\n          <p>Показано страниц 1-3 из 5 таблиц</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}